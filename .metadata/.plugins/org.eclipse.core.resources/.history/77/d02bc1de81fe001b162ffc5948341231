package com.example.demo.student;




import java.util.List;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.jdbc.core.JdbcTemplate;
import org.springframework.stereotype.Service;
import org.springframework.web.bind.annotation.RequestBody;

@Service
public class Studentservice{
@Autowired
JdbcTemplate t;

public int insert(student s)
{

String c="insert into student values(?,?,?,?)";
return t.update(c,s.getId(),s.getName(),s.getMail(),s.getPhno());
}

public int update(student s) {
// TODO Auto-generated method stub
String sql="update student set name=? where id=?";
System.out.println(s.getName()+"  "+s.getId());
int i= t.update(sql,s.getName(),s.getId()); 
if(i>0)
{
	System.out.println("data updated");
	return i;
}
else 
{
	System.out.println("data is not updated ");
	return i;
}
}
public List<student> getStudent() {
	List<student>student=t.query("select*from student",
			 (s, rowNum)-> new student(
				s.getInt("id"),s.getString("name"),s.getString("mail"),s.getString("phno")));
return student;
}

}


